# üåê –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∫–∞—Ç–∞–ª–æ–≥–∞ –º–æ–Ω–µ—Ç

## üìã **–û–±–∑–æ—Ä**

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞—Ç–∞–ª–æ–≥–∞ –º–æ–Ω–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–µ—Ç–∫–µ `web-interface` –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∞—É–∫—Ü–∏–æ–Ω–æ–≤** —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- **–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ—Ç–æ–≤** —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫** –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- **RESTful API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üöÄ **–ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /var/www/wolmar-parser
git pull origin catalog-parser
./setup-catalog-on-server.sh
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
```bash
# 1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É web-interface
git checkout web-interface

# 2. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞
mkdir -p /var/www/catalog-interface
cd /var/www/catalog-interface

# 3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã
cp -r /var/www/wolmar-parser/public/ ./
cp /var/www/wolmar-parser/server.js ./
cp /var/www/wolmar-parser/package.json ./
cp /var/www/wolmar-parser/config.example.js ./

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp config.example.js config.js
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å config.js —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ë–î

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ PM2
pm2 start server.js --name "catalog-interface"
```

## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**

### **1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/var/www/catalog-interface/config.js`:
```javascript
module.exports = {
    dbConfig: {
        user: 'postgres.xkwgspqwebfeteoblayu',
        host: 'aws-0-eu-north-1.pooler.supabase.com',
        database: 'postgres',
        password: 'Gopapopa326+',
        port: 6543,
        ssl: {
            rejectUnauthorized: false
        }
    }
};
```

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–∞**
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3000. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—Ç–∞:
```bash
# –í server.js –∏–∑–º–µ–Ω–∏—Ç–µ
const PORT = process.env.PORT || 3000;
```

### **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PM2**
```bash
# –ó–∞–ø—É—Å–∫
pm2 start server.js --name "catalog-interface"

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
pm2 save
pm2 startup

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 status
pm2 logs catalog-interface
```

## üåê **–î–æ—Å—Ç—É–ø –∫ –∫–∞—Ç–∞–ª–æ–≥—É**

### **URL –∞–¥—Ä–µ—Å–∞:**
- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: http://46.173.19.68:3000
- **API –∞—É–∫—Ü–∏–æ–Ω–æ–≤**: http://46.173.19.68:3000/api/auctions
- **API –ª–æ—Ç–æ–≤**: http://46.173.19.68:3000/api/auctions/:auctionNumber/lots

### **API Endpoints:**

#### **–ê—É–∫—Ü–∏–æ–Ω—ã:**
- `GET /api/auctions` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- `GET /api/auctions/:auctionNumber/lots` - –õ–æ—Ç—ã –∞—É–∫—Ü–∏–æ–Ω–∞
- `GET /api/auctions/:auctionNumber/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—É–∫—Ü–∏–æ–Ω–∞

#### **–õ–æ—Ç—ã:**
- `GET /api/lots/:id` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–æ—Ç–µ
- `GET /api/top-lots` - –¢–æ–ø –ª–æ—Ç–æ–≤ –ø–æ —Ü–µ–Ω–µ

#### **–§–∏–ª—å—Ç—Ä—ã:**
- `GET /api/filters` - –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

## üîó **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º**

### **1. –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä**
–í `/var/www/wolmar-parser/public/admin.html` –¥–æ–±–∞–≤–∏—Ç—å:
```html
<a href="http://46.173.19.68:3000" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
    üìö –ö–∞—Ç–∞–ª–æ–≥ –º–æ–Ω–µ—Ç
</a>
```

### **2. –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞**
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è:
```nginx
# /etc/nginx/sites-available/wolmar
server {
    listen 80;
    server_name 46.173.19.68;
    
    # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
    location / {
        proxy_pass http://localhost:3001;
    }
    
    # –ö–∞—Ç–∞–ª–æ–≥ –º–æ–Ω–µ—Ç
    location /catalog {
        proxy_pass http://localhost:3000;
    }
}
```

## üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
```bash
# –°—Ç–∞—Ç—É—Å PM2
pm2 status

# –õ–æ–≥–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
pm2 logs catalog-interface

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl http://localhost:3000/api/auctions
```

### **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–∞—Ç–∞–ª–æ–≥–∞
pm2 restart catalog-interface

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
pm2 restart all
```

## üõ† **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**

### **–ï—Å–ª–∏ –∫–∞—Ç–∞–ª–æ–≥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs catalog-interface

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cat /var/www/catalog-interface/config.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd /var/www/catalog-interface
npm list
```

### **–ï—Å–ª–∏ API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
node -e "const config = require('./config'); console.log(config.dbConfig);"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -tlnp | grep 3000
```

### **–ï—Å–ª–∏ —Ñ–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /var/www/catalog-interface/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª—ã
cd /var/www/wolmar-parser
git checkout web-interface
cp -r public/ /var/www/catalog-interface/
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —É –≤–∞—Å –±—É–¥–µ—Ç:
- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä**: http://46.173.19.68:3001 (–ø–∞—Ä—Å–µ—Ä—ã, –∞–¥–º–∏–Ω–∫–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- **–ö–∞—Ç–∞–ª–æ–≥ –º–æ–Ω–µ—Ç**: http://46.173.19.68:3000 (–ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ—Ç–æ–≤, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã)
- **–ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –∞—É–∫—Ü–∏–æ–Ω–æ–≤

**–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –º–æ–Ω–µ—Ç —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å!** üéâ
