#!/usr/bin/env node

// –¢–µ—Å—Ç–∏—Ä—É–µ–º —É–ª—É—á—à–µ–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–æ–¥–∞
function extractYear(description) {
    const result = { year: null };
    
    // –ò–∑–≤–ª–µ–∫–∞–µ–º –≥–æ–¥ (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
    let yearMatch = description.match(/(\d{4})–≥?\./); // –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç: 1900–≥.
    if (!yearMatch) {
        yearMatch = description.match(/(\d{4})\s*–≥–æ–¥–∞/); // –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç: 1900 –≥–æ–¥–∞
    }
    if (!yearMatch) {
        yearMatch = description.match(/(\d{4})\s*–≥–≥/); // –§–æ—Ä–º–∞—Ç: 1900 –≥–≥
    }
    if (!yearMatch) {
        // –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å –ø–µ—Ä–≤—ã–π –≥–æ–¥ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞: 1900-1950 –≥–≥
        yearMatch = description.match(/(\d{4})-\d{4}\s*–≥–≥/);
    }
    if (!yearMatch) {
        // –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å –ø–µ—Ä–≤—ã–π –≥–æ–¥ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞: 1900-1950 –≥–≥. –Ω.—ç.
        yearMatch = description.match(/(\d{4})-\d{4}\s*–≥–≥\.\s*–Ω\.—ç\./);
    }
    
    if (yearMatch) {
        result.year = parseInt(yearMatch[1]);
        console.log(`üîç –ò–∑–≤–ª–µ—á–µ–Ω –≥–æ–¥: ${result.year} –∏–∑ "${description}"`);
    }
    
    return result;
}

// –¢–µ—Å—Ç–æ–≤—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è
const testDescriptions = [
    "–ü–µ—á–∞—Ç—å –≤–∏—Å–ª–∞—è. –í–ª–∞–¥–∏–º–∏—Ä –ú–æ–Ω–æ–º–∞—Ö Pb. | 1113-1125 –≥–≥. –Ω.—ç.",
    "2 –∫–æ–ø–µ–π–∫–∏ Cu. | 1811-1829 –≥–≥",
    "20 —Å–µ–Ω–æ–≤. –ú–∞–ª–∞–π–∑–∏—è Cu-Ni. | 2000-2003 –≥–≥",
    "15 –∫–æ–ø–µ–µ–∫ –°–ü–ë –ùI. Ag. | 1866-1877 –≥–≥.",
    "25 –∫–æ–ø–µ–µ–∫ 1828 –≥–æ–¥–∞",
    "20 –∫–æ–ø–µ–µ–∫ 1771 –≥–æ–¥–∞",
    "10000 —Ä—É–±–ª–µ–π 2003 –≥–æ–¥–∞",
    "1/2 –∞—Ñ–≥–∞–Ω–∏. –ê—Ñ–≥–∞–Ω–∏—Å—Ç–∞–Ω St/Ni. | 1952-1953 –≥–≥",
    "10 —Ä—É–±–ª–µ–π. –ë—Ä–∞–∫ Cu-Zn 5,69. | –ê–≤–µ—Ä—Å - —é–±–∏–ª–µ–π–Ω–∞—è, –ì—Ä–æ–∑–Ω—ã–π (–º–∞–≥–Ω–∏—Ç–Ω–∞—è) / —Ä–µ–≤–µ—Ä—Å - –æ–±—ã—á–Ω–∞—è (—Ç–∏—Ä–∞–∂–Ω–∞—è),"
];

console.log('üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≥–æ–¥–∞...\n');

testDescriptions.forEach((desc, index) => {
    console.log(`${index + 1}. "${desc}"`);
    const result = extractYear(desc);
    console.log(`   –†–µ–∑—É–ª—å—Ç–∞—Ç: ${result.year || '–Ω–µ –Ω–∞–π–¥–µ–Ω'}\n`);
});




