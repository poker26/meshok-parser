const CatalogParser = require('./catalog-parser.js');

async function test50RublesParsing() {
    const parser = new CatalogParser();
    
    try {
        await parser.init();
        
        // –¢–µ—Å—Ç–æ–≤—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –º–æ–Ω–µ—Ç "50 —Ä—É–±–ª–µ–π" —Å –≤–µ—Å–æ–º
        const testDescriptions = [
            "50 —Ä—É–±–ª–µ–π. –°–æ—Ñ–∏–π—Å–∫–∏–π —Å–æ–±–æ—Ä –≤ –ù–æ–≤–≥–æ—Ä–æ–¥–µ 1988–≥. –ú–ú–î. Au 7,78. | –¢–∏—Ä–∞–∂: 25 000. 900 –ø—Ä–æ–±–∞. –î–∏–∞–º–µ—Ç—Ä 22,6 –º–º.",
            "150 —Ä—É–±–ª–µ–π. –°–ª–æ–≤–æ –æ –ø–æ–ª–∫—É –ò–≥–æ—Ä–µ–≤–µ 1988–≥. –õ–ú–î. Pt 15,55. | –í —Å–ª–∞–±–µ NGC. –í—ã–¥–∞—é—â–∏–π—Å—è –ø–∞–º—è—Ç–Ω–∏–∫ –¥—Ä–µ–≤–Ω–µ—Ä—É—Å—Å–∫–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –æ –Ω–µ—É–¥–∞—á–Ω–æ–º –ø–æ—Ö–æ–¥–µ –Ω–æ–≤–≥–æ—Ä–æ–¥-—Å–µ–≤–µ—Ä—Å–∫–æ–≥–æ –∫–Ω—è–∑—è –ò–≥–æ—Ä—è –°–≤—è—Ç–æ—Å–ª–∞–≤–∏—á–∞ –ø—Ä–æ—Ç–∏–≤ –ø–æ–ª–æ–≤—Ü–µ–≤ –≤ 1185 –≥–æ–¥—É.",
            "50 —Ä—É–±–ª–µ–π. –£—Å–ø–µ–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä –≤ –ú–æ—Å–∫–≤–µ 1989–≥. –ú–ú–î. Au 7,78. | –¢–∏—Ä–∞–∂: 25 000. 900 –ø—Ä–æ–±–∞. –î–∏–∞–º–µ—Ç—Ä 22,6 –º–º."
        ];
        
        console.log('üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–æ–Ω–µ—Ç "50 —Ä—É–±–ª–µ–π"...\n');
        
        testDescriptions.forEach((description, index) => {
            console.log(`--- –¢–µ—Å—Ç ${index + 1} ---`);
            console.log(`üìù –û–ø–∏—Å–∞–Ω–∏–µ: ${description.substring(0, 80)}...\n`);
            
            const result = parser.parseLotDescription(description);
            
            console.log('üìã –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞:');
            console.log(`  - –ú–µ—Ç–∞–ª–ª: ${result.metal || '–Ω–µ –Ω–∞–π–¥–µ–Ω'}`);
            console.log(`  - –í–µ—Å –º–æ–Ω–µ—Ç—ã: ${result.coin_weight || '–Ω–µ –Ω–∞–π–¥–µ–Ω'}–≥`);
            console.log(`  - –ü—Ä–æ–±–∞: ${result.fineness || '–Ω–µ –Ω–∞–π–¥–µ–Ω–∞'}`);
            console.log(`  - –ß–∏—Å—Ç—ã–π –º–µ—Ç–∞–ª–ª: ${result.pure_metal_weight || '–Ω–µ –Ω–∞–π–¥–µ–Ω'}–≥`);
            console.log(`  - –í–µ—Å –≤ —É–Ω—Ü–∏—è—Ö: ${result.weight_oz || '–Ω–µ –Ω–∞–π–¥–µ–Ω'}oz`);
            console.log('');
        });
        
        console.log('‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!');
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:', error);
    } finally {
        await parser.close();
    }
}

test50RublesParsing();






