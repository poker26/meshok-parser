# Исследование структуры Meshok.net

## Обнаруженные паттерны

### URL структура

#### Список лотов
- Старый формат: `https://meshok.net/?good=252&opt=2`
- Новый формат: `https://meshok.net/listing?good=252&opt=2`
- Редирект: 301 со старого на новый

#### Отдельный лот
- Формат: `https://meshok.net/item/{ITEM_ID}_{optional_description}`
- Пример: `https://meshok.net/item/343735645`

### Защита

- Cloudflare protection активна
- Требуется headless browser (Puppeteer)
- curl без браузера не работает

### Категории монет

- `good=252` - Монеты общий раздел (~671,692 лотов)
- `good=1106` - СССР 1917-1991 (~243,065 лотов)
- `good=140` - Коллекционное (главная категория)

### Следующие шаги

- [x] Создать структуру проекта
- [x] Настроить Puppeteer для обхода Cloudflare
- [ ] Получить реальный HTML через Puppeteer
- [ ] Найти структуру данных на странице
- [ ] Определить формат пагинации
- [ ] Разработать парсер для извлечения данных
- [ ] Создать систему сохранения в JSON
- [ ] Реализовать анализ динамики цен

## Технические детали

### Cloudflare обход
- Используется Puppeteer с настройками для обхода защиты
- User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
- Ожидание загрузки: networkidle2 + 5 секунд

### Структура данных для извлечения
```json
{
  "lot_id": "343735645",
  "title": "Швеция 100 крон 1984",
  "category": "Монеты",
  "final_price": 1500.00,
  "start_price": 100.00,
  "currency": "RUB",
  "bids_count": 23,
  "end_date": "2025-10-03T15:30:00Z",
  "seller": {
    "name": "seller_name",
    "rating": 1234
  },
  "sale_type": "auction"
}
```

## Разрешения

✅ Получено разрешение от владельца сайта на автоматическую обработку данных.
